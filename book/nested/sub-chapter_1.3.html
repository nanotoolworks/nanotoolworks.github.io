<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Adv Observability Enrg - No Job Too Small</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">No Job Too Small</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="advanced-observability-engineering"><a class="header" href="#advanced-observability-engineering">Advanced Observability Engineering</a></h2>
<ul>
<li><a href="#the-fly-on-the-wall-approach">The Fly on the Wall Approach</a></li>
<li><a href="#instrumentation-architecture">Instrumentation Architecture</a></li>
<li><a href="#event-sourcing-and-stream-processing">Event Sourcing and Stream Processing</a></li>
<li><a href="#cardinality-management">Cardinality Management</a></li>
<li><a href="#digital-exhaust-capture-systems">Digital Exhaust Capture Systems</a></li>
<li><a href="#privacy-preserving-telemetry-design">Privacy-Preserving Telemetry Design</a></li>
</ul>
<p>The core innovation in our approach is what we call "<strong>ambient</strong> observability."  This means ubiquitous,comprehensive data collection that happens automatically as developers work, without requiring them to perform additional actions or conform to predefined structures. Like a <em>fly on the wall</em>, the system observes everything but affects nothing.</p>
<h4 id="the-fly-on-the-wall-approach"><a class="header" href="#the-fly-on-the-wall-approach">The Fly on the Wall Approach</a></h4>
<p>This approach to observability engineering in the development environment differs dramatically from traditional approaches that require developers to explicitly document their work through structured commit messages, issue templates, or other formalized processes. Instead, the system learns organically from:</p>
<ul>
<li>Natural coding patterns and edit sequences</li>
<li>Spontaneous discussions in various channels</li>
<li>Reactions and emoji usage</li>
<li>Branch switching and merging behaviors</li>
<li>Tool usage and development environment configurations</li>
</ul>
<p>By capturing these signals invisibly, the system builds a rich contextual understanding without imposing cognitive overhead on developers. The AI becomes responsible for making sense of this ambient data, rather than forcing humans to structure their work for machine comprehension.</p>
<p>The system's design intentionally avoids interrupting developers' flow states or requiring them to change their natural working habits. Unlike conventional tools that prompt for information or enforce particular workflows, the fly-on-the-wall approach embraces the organic, sometimes messy reality of development work—capturing not just what developers explicitly document, but the full context of their process.</p>
<p>This approach aligns perfectly with GitButler's virtual branch system, which already reduces cognitive overhead by eliminating explicit branch switching. The observability layer extends this philosophy, gathering rich contextual signals without asking developers to categorize, tag, or annotate their work. Every interaction—from hesitation before a commit to quick experiments in virtual branches—becomes valuable data for understanding developer intent and workflow patterns.</p>
<p>Much like a butler who learns their employer's preferences through careful observation rather than questionnaires, the system builds a nuanced understanding of each developer's habits, challenges, and needs by watching their natural work patterns unfold. This invisible presence enables a form of AI assistance that feels like magic—anticipating needs before they're articulated and offering help that feels contextually perfect, precisely because it emerges from the authentic context of development work.</p>
<h4 id="instrumentation-architecture"><a class="header" href="#instrumentation-architecture">Instrumentation Architecture</a></h4>
<p>To achieve comprehensive yet unobtrusive observability, GitButler requires a sophisticated instrumentation architecture:</p>
<ul>
<li>
<p><strong>Event-Based Instrumentation</strong>: Rather than periodic polling or intrusive logging, the system uses event-driven instrumentation that captures significant state changes and interactions in real-time:</p>
<ul>
<li>Git object lifecycle events (commit creation, branch updates)</li>
<li>User interface interactions (file selection, diff viewing)</li>
<li>Editor integrations (edit patterns, selection changes)</li>
<li>Background operation completion (fetch, merge, rebase)</li>
</ul>
</li>
<li>
<p><strong>Multi-Layer Observability</strong>: Instrumentation occurs at multiple layers to provide context-rich telemetry:</p>
<ul>
<li>Git layer: Core Git operations and object changes</li>
<li>Application layer: Feature usage and workflow patterns</li>
<li>UI layer: Interaction patterns and attention indicators</li>
<li>System layer: Performance metrics and resource utilization</li>
<li>Network layer: Synchronization patterns and collaboration events</li>
</ul>
</li>
<li>
<p><strong>Adaptive Sampling</strong>: To minimize overhead while maintaining comprehensive coverage:</p>
<ul>
<li>High-frequency events use statistical sampling with adaptive rates</li>
<li>Low-frequency events are captured with complete fidelity</li>
<li>Sampling rates adjust based on system load and event importance</li>
<li>Critical sequences maintain temporal integrity despite sampling</li>
</ul>
</li>
<li>
<p><strong>Context Propagation</strong>: Each telemetry event carries rich contextual metadata:</p>
<ul>
<li>Active virtual branches and their states</li>
<li>Current task context (inferred from recent activities)</li>
<li>Related artifacts and references</li>
<li>Temporal position in workflow sequences</li>
<li>Developer state indicators (focus level, interaction tempo)</li>
</ul>
</li>
</ul>
<p>Implementation specifics include:</p>
<ul>
<li>Custom instrumentation points in the Rust core using macros</li>
<li>Svelte action directives for UI event capture</li>
<li>OpenTelemetry-compatible context propagation</li>
<li>WebSocket channels for editor plugin integration</li>
<li>Pub/sub event bus for decoupled telemetry collection</li>
</ul>
<h4 id="event-sourcing-and-stream-processing"><a class="header" href="#event-sourcing-and-stream-processing">Event Sourcing and Stream Processing</a></h4>
<p>GitButler's observability system leverages event sourcing principles to create a complete, replayable history of development activities:</p>
<ul>
<li>
<p><strong>Immutable Event Logs</strong>: All observations are stored as immutable events in append-only logs:</p>
<ul>
<li>Events include full context and timestamps</li>
<li>Logs are partitioned by event type and source</li>
<li>Compaction strategies manage storage growth</li>
<li>Encryption protects sensitive content</li>
</ul>
</li>
<li>
<p><strong>Stream Processing Pipeline</strong>: A continuous processing pipeline transforms raw events into meaningful insights:</p>
<ul>
<li>Stateless filters remove noise and irrelevant events</li>
<li>Stateful processors detect patterns across event sequences</li>
<li>Windowing operators identify temporal relationships</li>
<li>Enrichment functions add derived context to events</li>
</ul>
</li>
<li>
<p><strong>Real-Time Analytics</strong>: The system maintains continuously updated views of development state:</p>
<ul>
<li>Activity heatmaps across code artifacts</li>
<li>Workflow pattern recognition</li>
<li>Collaboration network analysis</li>
<li>Attention and focus metrics</li>
<li>Productivity pattern identification</li>
</ul>
</li>
</ul>
<p>Implementation approaches include:</p>
<ul>
<li>Apache Kafka for distributed event streaming at scale</li>
<li>RocksDB for local event storage in single-user scenarios</li>
<li>Flink or Spark Streaming for complex event processing</li>
<li>Materialize for real-time SQL analytics on event streams</li>
<li>Custom Rust processors for low-latency local analysis</li>
</ul>
<h4 id="cardinality-management"><a class="header" href="#cardinality-management">Cardinality Management</a></h4>
<p>Effective observability requires careful management of telemetry cardinality to prevent data explosion while maintaining insight value:</p>
<ul>
<li>
<p><strong>Dimensional Modeling</strong>: Telemetry dimensions are carefully designed to balance granularity and cardinality:</p>
<ul>
<li>High-cardinality dimensions (file paths, line numbers) are normalized</li>
<li>Semantic grouping reduces cardinality (operation types, result categories)</li>
<li>Hierarchical dimensions enable drill-down without explosion</li>
<li>Continuous dimensions are bucketed appropriately</li>
</ul>
</li>
<li>
<p><strong>Dynamic Aggregation</strong>: The system adjusts aggregation levels based on activity patterns:</p>
<ul>
<li>Busy areas receive finer-grained observation</li>
<li>Less active components use coarser aggregation</li>
<li>Aggregation adapts to available storage and processing capacity</li>
<li>Important patterns trigger dynamic cardinality expansion</li>
</ul>
</li>
<li>
<p><strong>Retention Policies</strong>: Time-based retention strategies preserve historical context without unbounded growth:</p>
<ul>
<li>Recent events retain full fidelity</li>
<li>Older events undergo progressive aggregation</li>
<li>Critical events maintain extended retention</li>
<li>Derived insights persist longer than raw events</li>
</ul>
</li>
</ul>
<p>Implementation details include:</p>
<ul>
<li>Trie-based cardinality management for hierarchical dimensions</li>
<li>Probabilistic data structures (HyperLogLog, Count-Min Sketch) for cardinality estimation</li>
<li>Rolling time-window retention with aggregation chaining</li>
<li>Importance sampling for high-cardinality event spaces</li>
</ul>
<h4 id="digital-exhaust-capture-systems"><a class="header" href="#digital-exhaust-capture-systems">Digital Exhaust Capture Systems</a></h4>
<p>Beyond explicit instrumentation, GitButler captures the "digital exhaust" of development—byproducts that typically go unused but contain valuable context:</p>
<ul>
<li>
<p><strong>Ephemeral Content Capture</strong>: Systems for preserving typically lost content:</p>
<ul>
<li>Clipboard history with code context</li>
<li>Transient file versions before saving</li>
<li>Command history with results</li>
<li>Abandoned edits and reverted changes</li>
<li>Browser research sessions related to coding tasks</li>
</ul>
</li>
<li>
<p><strong>Communication Integration</strong>: Connectors to development communication channels:</p>
<ul>
<li>Chat platforms (Slack, Discord, Teams)</li>
<li>Issue trackers (GitHub, JIRA, Linear)</li>
<li>Code review systems (PR comments, review notes)</li>
<li>Documentation updates and discussions</li>
<li>Meeting transcripts and action items</li>
</ul>
</li>
<li>
<p><strong>Environment Context</strong>: Awareness of the broader development context:</p>
<ul>
<li>IDE configuration and extension usage</li>
<li>Documentation and reference material access</li>
<li>Build and test execution patterns</li>
<li>Deployment and operation activities</li>
<li>External tool usage sequences</li>
</ul>
</li>
</ul>
<p>Implementation approaches include:</p>
<ul>
<li>Browser extensions for research capture</li>
<li>IDE plugins for ephemeral content tracking</li>
<li>API integrations with communication platforms</li>
<li>Desktop activity monitoring (with strict privacy controls)</li>
<li>Cross-application context tracking</li>
</ul>
<h4 id="privacy-preserving-telemetry-design"><a class="header" href="#privacy-preserving-telemetry-design">Privacy-Preserving Telemetry Design</a></h4>
<p>Comprehensive observability must be balanced with privacy and trust, requiring sophisticated privacy-preserving design:</p>
<ul>
<li>
<p><strong>Data Minimization</strong>: Techniques to reduce privacy exposure:</p>
<ul>
<li>Dimensionality reduction before storage</li>
<li>Semantic abstraction of concrete events</li>
<li>Feature extraction instead of raw content</li>
<li>Differential privacy for sensitive metrics</li>
<li>Local aggregation before sharing</li>
</ul>
</li>
<li>
<p><strong>Consent Architecture</strong>: Granular control over observation:</p>
<ul>
<li>Per-category opt-in/opt-out capabilities</li>
<li>Contextual consent for sensitive operations</li>
<li>Temporary observation pausing</li>
<li>Regular consent reminders and transparency</li>
<li>Clear data usage explanations</li>
</ul>
</li>
<li>
<p><strong>Privacy-Preserving Analytics</strong>: Methods for gaining insights without privacy violation:</p>
<ul>
<li>Homomorphic encryption for secure aggregation</li>
<li>Secure multi-party computation for distributed analysis</li>
<li>Federated analytics without raw data sharing</li>
<li>Zero-knowledge proofs for verification without exposure</li>
<li>Synthetic data generation from observed patterns</li>
</ul>
</li>
</ul>
<p>Implementation details include:</p>
<ul>
<li>Local differential privacy libraries
<ul>
<li>Google's RAPPOR for telemetry</li>
<li>Apple's Privacy-Preserving Analytics adaptations</li>
</ul>
</li>
<li>Homomorphic encryption frameworks
<ul>
<li>Microsoft SEAL for secure computation</li>
<li>Concrete ML for privacy-preserving machine learning</li>
</ul>
</li>
<li>Federated analytics infrastructure
<ul>
<li>TensorFlow Federated for model training</li>
<li>Custom aggregation protocols for insight sharing</li>
</ul>
</li>
</ul>
<p>Next Sub-Chapter ... <strong>Data Pipeline Architecture</strong> ... <em>How do we implement what we learned so far</em></p>
<h3 id="deeper-explorationsblogifications"><a class="header" href="#deeper-explorationsblogifications">Deeper Explorations/Blogifications</a></h3>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../nested/sub-chapter_1.2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../nested/sub-chapter_1.4.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../nested/sub-chapter_1.2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../nested/sub-chapter_1.4.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
